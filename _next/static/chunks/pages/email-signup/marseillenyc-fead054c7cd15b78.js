(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5187],{8737:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/email-signup/marseillenyc",function(){return n(1503)}])},3217:function(e,a,n){"use strict";n.r(a),a.default={src:"/_next/static/media/marseillenyc_logo.9f8c2c5b.webp",height:719,width:1375,blurDataURL:"data:image/webp;base64,UklGRngAAABXRUJQVlA4WAoAAAAQAAAABwAAAwAAQUxQSCEAAAAAAAAAAAAAAABgYQQPBSlfBluWZGRwhqY/AAAAAAAAAAAAVlA4IDAAAADQAQCdASoIAAQAAkA4JaACdLoB+AADsAD+4k7BqSMX/z8zu3F/Vb/4hno9TGAAAAA=",blurWidth:8,blurHeight:4}},2982:function(e,a,n){"use strict";var t=n(5893);n(7294),a.Z=e=>{let{id:a,children:n,isDisabled:i,isLoading:l,onClick:r,onDisabledClick:s}=e;return(0,t.jsx)("button",{className:i?"qb-btn qb-ghost-btn qb-btn-disabled":l?"qb-btn qb-ghost-btn qb-btn-loading":"qb-btn qb-ghost-btn",type:"button",id:"".concat(a),onClick:e=>{e.preventDefault();try{i?s():i||l||r()}catch(e){console.log(e)}},children:n})}},6264:function(e,a,n){"use strict";n.d(a,{g:function(){return l.Z},K:function(){return i}});var t=n(5893);n(7294);var i=e=>{let{id:a,children:n,isDisabled:i,isLoading:l,onClick:r,onDisabledClick:s}=e;return(0,t.jsx)("button",{className:i?"qb-btn qb-primary-btn qb-btn-disabled":l?"qb-btn qb-primary-btn qb-btn-loading":"qb-btn qb-primary-btn",type:"button",id:"".concat(a),onClick:e=>{e.preventDefault();try{i?s():i||l||r()}catch(e){console.log(e)}},children:n})},l=n(2982)},511:function(e,a,n){"use strict";var t=n(5893),i=n(7294);a.Z=e=>{let{children:a,isVisible:n,handleBackdropClick:l,isLarge:r}=e,[s,o]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),u=()=>{o(!0),setTimeout(()=>{d(!0)},400)},h=()=>{d(!1),setTimeout(()=>{o(!1)},400)};return(0,i.useEffect)(()=>{n?u():s&&h()},[n]),(0,t.jsx)("div",{className:s?"qb-modal-wrapper position-fixed":"qb-modal-wrapper position-fixed d-none",onClick:l,children:(0,t.jsx)("div",{className:c?"qb-modal-wrap  qb-modal-active":"qb-modal-wrap",children:(0,t.jsx)("div",{className:r?"qb-modal-large qb-modal-dialog-wrapper position-relative":"qb-modal-dialog-wrapper position-relative",children:(0,t.jsx)("div",{className:"qb-modal-dialog position-absolute d-flex align-items-stretch justify-content-center position-absolute",onClick:e=>{e.stopPropagation()},children:a})})})})}},9218:function(e,a,n){"use strict";var t=n(5893);n(7294);var i=n(511),l=n(6264);a.Z=e=>{let{isVisible:a,handleBackdropClick:n,title:r,message:s,btnText:o,btnAction:c,showSecondaryBtn:d=!0}=e;return(0,t.jsx)(i.Z,{isVisible:a,handleBackdropClick:n,children:(0,t.jsxs)("div",{className:"w-100 p-3 p-lg-4 d-flex flex-column position-relative qb-confirmation-modal-wrap",children:[(0,t.jsx)("div",{className:"qb-close-btn-wrap position-absolute d-flex align-items-center justify-content-center",onClick:n,children:(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.55806 4.55806C4.80214 4.31398 5.19786 4.31398 5.44194 4.55806L10 9.11612L14.5581 4.55806C14.8021 4.31398 15.1979 4.31398 15.4419 4.55806C15.686 4.80214 15.686 5.19786 15.4419 5.44194L10.8839 10L15.4419 14.5581C15.686 14.8021 15.686 15.1979 15.4419 15.4419C15.1979 15.686 14.8021 15.686 14.5581 15.4419L10 10.8839L5.44194 15.4419C5.19786 15.686 4.80214 15.686 4.55806 15.4419C4.31398 15.1979 4.31398 14.8021 4.55806 14.5581L9.11612 10L4.55806 5.44194C4.31398 5.19786 4.31398 4.80214 4.55806 4.55806Z",fill:"#080A0A"})})}),r?(0,t.jsx)("h3",{className:"qb-title mb-0 pb-2",children:r}):null,(0,t.jsx)("p",{className:"qb-description mb-0 pb-4 text-center",children:s}),o?(0,t.jsxs)("div",{className:"d-flex justify-content-end align-items-center a-modal-btn-wrapper",children:[d?(0,t.jsx)(l.g,{onClick:n,children:"Cancel"}):null,(0,t.jsx)("div",{className:"ps-3",children:(0,t.jsx)(l.K,{onClick:c,children:o})})]}):null]})})}},1503:function(e,a,n){"use strict";n.r(a);var t=n(5893),i=n(6264),l=n(3582),r=n(9218),s=n(5202),o=n(9655),c=n(9008),d=n.n(c),u=n(5675),h=n.n(u),p=n(7294);let m=n(3217),b={firstName:0,lastName:1,email:2,phone:3,dob:4},f={qa:{id:1445,key:"a44ef135-6f9f-4d3d-aec5-d0944af950d9",secret:"a6179e50-9df2-4b3d-b059-87a1d7b96c65",client:"f3c9b2d2-8e4f-4b36-b6f5-3c8b5d4477e9",source:"landingPage"},prod:{id:1427,key:"78a34126-c8d0-49bc-b244-925db585f61e",secret:"65aa9b0b-3a55-446e-ae61-c225c48c37ea",client:"c184cb5d-b285-490a-8ec8-dccc2360786b",source:"landingPage"}};a.default=()=>{let[e,a]=(0,p.useState)([{label:"First name",fieldname:"firstName",placeholder:"John",value:"",id:1,keyboardType:"default",error:null,isRequired:!0,emptyErrorMessage:"First name is required. Please provide your first name.",inputWidthSize:"12"},{label:"Last name",fieldname:"lastName",placeholder:"Doe",value:"",id:2,keyboardType:"default",error:null,isRequired:!1,emptyErrorMessage:"Last name is required. Please provide your last name.",inputWidthSize:"12"},{label:"Email",fieldname:"email",placeholder:"johndoe@company.com",value:"",id:2,keyboardType:"email",error:null,isRequired:!0,emptyErrorMessage:"Email is required. Please provide your email address.",inputWidthSize:"12"},{label:"Phone",fieldname:"phone",placeholder:"999 999 9999",value:"",id:3,keyboardType:"phone",error:null,isRequired:!1,countryCode:"+1",countryCodeValue:"1",countryCodePlaceholder:"+1",inputFieldType:"PHONE",emptyErrorMessage:"Phone number is required. Please provide your Phone number.",inputWidthSize:"12"},{label:"Date of birth",fieldname:"dob",placeholder:"dd/mm/yyyy",value:"",id:13,keyboardType:"date",error:null,isRequired:!1,emptyErrorMessage:"Date of birth is required. Please provide your birth date.",inputWidthSize:"12"}]),{emailValidation:n,phoneValidation:c,nameValidation:u,returnErrorTexts:g}=(0,o.V$)(),{apiPost:v}=(0,o.kL)(),[y,w]=(0,p.useState)(null),[x,A]=(0,p.useState)(!1),[k,j]=(0,p.useState)(null),[N,q]=(0,p.useState)(!1),P=(n,t)=>{let i=[...e];i[t].value=n,i[t].error=null,a(i)},C=n=>{let t=[...e],i=e[n].isPasswordVisible;t[n].keyboardType=i?"password":"default",t[n].isPasswordVisible=!i,a(t)},S=()=>{q(!1)},T=async n=>{let t=new Date,i=t.getHours(),l=t.getMinutes(),r=t.getSeconds();i=i>9?i:"0".concat(i),l=l>9?l:"0".concat(l),r=r>9?r:"0".concat(r);let o="".concat(t.toISOString().split("T")[0]," ").concat(i,":").concat(l,":").concat(r),c=await g("_","generic");if(k){var d,u;let t;A(!0);let i="".concat(s.kh.qubriuxAPI,"/posEvents/createCustomer"),l=JSON.stringify({api_key:f[s.kh.env].key,customer_source:f[s.kh.env].source,customer_info:n,createdAt:o});try{t=await v(i,l,null,null,k)}catch(e){console.log("err:",e),w(c),A(!1)}if((null===(d=t)||void 0===d?void 0:d.message)&&"success"===t.message.toLowerCase()){let n=[...e];n.forEach((e,a)=>{n[a].value="",n[a].error=null}),a([...n]),A(!1),q(!0)}else(null===(u=t)||void 0===u?void 0:u.message)&&"failure"===t.message.toLowerCase()&&t.body?w(t.body):w(c),A(!1)}else w(c)},E=async()=>{var t,i,l;let r=null===(t=e[b.email].value)||void 0===t?void 0:t.trim(),s=e[b.phone].value?e[b.phone].value.trim():null,o=null===(i=e[b.firstName].value)||void 0===i?void 0:i.trim(),d=null===(l=e[b.lastName].value)||void 0===l?void 0:l.trim(),h=await n(r),p=!s;s&&(p=await c(s));let m=await u(o),f=!d||await u(d);if(h&&m&&f&&p){let a={name:"".concat(o).concat(d?" ".concat(d):""),mobile:s,email:r,dob:e[b.dob].value,isSMSMarketingConsentGiven:!!s,isEmailMarketingConsentGiven:!0,isLoyaltyConsentGiven:!0};T(a)}else{let n=[...e];h||(n[b.email].error=await g(r,"email")),p||(n[b.phone].error=await g(s,"phone")),m||(n[b.firstName].error=await g(o,"name")),f||(n[b.lastName].error=await g(d,"name")),a([...n])}},z=async()=>{var e,a;let n;let t=s.kh.qubriuxAPI+"/openapi/auth/getAccessToken",i=JSON.stringify({api_key:f[s.kh.env].key,clientId:f[s.kh.env].client,clientSecret:f[s.kh.env].secret});try{n=await v(t,i)}catch(e){console.log("err:",e)}(null===(e=n)||void 0===e?void 0:e.message)&&"success"===n.message&&(null===(a=n.body)||void 0===a?void 0:a.accessToken)&&j(n.body.accessToken)},D=()=>{let a=!0;return e.forEach(e=>{e.isRequired&&!e.value&&(a=!1)}),!a},L=(0,p.useMemo)(()=>D(),[e]);return(0,p.useEffect)(()=>{z()},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d(),{children:[(0,t.jsx)("title",{children:"Email Signup | Sempre Oggi | Italian Restaurant in New York, NY"}),(0,t.jsx)("link",{rel:"icon",href:"/marseillenyc/favicon.png"}),(0,t.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/marseillenyc/favicon.png"}),(0,t.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/marseillenyc/favicon.png"}),(0,t.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/marseillenyc/favicon.png"})]}),(0,t.jsxs)("div",{className:"contianer-fluid qb-marseillenyc-page-wrapper px-0",children:[(0,t.jsx)("div",{className:"px-lg-4 pt-lg-4 pt-3 container-fluid position-fixed qb-z-top",children:(0,t.jsx)("header",{className:"qb-marseillenyc-header w-100 px-lg-4 py-1 d-flex align-items-center",children:(0,t.jsx)("a",{href:"https://www.marseillenyc.com/",className:"qb-marseillenyc-header-link",children:(0,t.jsx)(h(),{className:"a-marseillenyc-heaer-logo",src:m,objectFit:"contain",alt:"Sempre Oggi"})})})}),(0,t.jsx)("div",{className:"qb-marseillenyc-page-container d-flex align-items-center justify-content-center container-fluid px-0",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"row justify-content-center",children:[(0,t.jsx)("div",{className:"col-12 col-lg-10",children:(0,t.jsxs)("div",{className:"w-100 d-flex justify-content-center flex-column align-items-center",children:[(0,t.jsx)("h2",{className:"qb-marseillenyc-title mb-0 pb-1",role:"heading","aria-level":"1",children:"Win A Dinner for two!"}),(0,t.jsx)("p",{className:"qb-marseillenyc-desc mb-0 pb-4 text-center",children:"Sign up to join our email list and enter for a chance to win dinner for two at Marseille. Just leave your details below, we’ll randomly select a winner and contact them by May 31, 2025."})]})}),(0,t.jsx)("div",{className:"col-12 col-md-10 col-lg-6",children:(0,t.jsx)("div",{className:"container px-0",children:(0,t.jsxs)("div",{className:"row gy-3",children:[e.map((e,a)=>e.isInputHidden?null:(0,t.jsx)("div",{className:"col-12 col-lg-".concat(e.inputWidthSize),children:(0,t.jsx)(l.Wz,{value:e.value,id:e.id,index:a,label:e.label,placeholder:e.placeholder,fieldname:e.fieldname,error:e.error,isRequired:e.isRequired,fieldType:e.keyboardType,isPassword:e.isPassword,showPassword:e.isPasswordVisible,isDisabled:e.isDisabled,onViewPassword:C,onChange:P})},"input-".concat(a))),(null==y?void 0:y.length)?(0,t.jsx)("div",{className:"col-12",children:(0,t.jsx)("p",{className:"qb-input-error-message mt-1 qb-general-error qb-error-active",children:y})}):null,(0,t.jsx)("div",{className:"col-lg-12",children:(0,t.jsx)("div",{className:"w-100 d-flex justify-content-center pt-3",children:(0,t.jsx)(i.K,{id:"qb-profile-btn",isDisabled:L,isLoading:x,onDisabledClick:()=>{let n=[...e];e.forEach((e,a)=>{e.isRequired&&!e.value&&(n[a].error=e.emptyErrorMessage?e.emptyErrorMessage:"Required field. Please fill this field to continue.")}),a([...n])},onClick:E,children:(0,t.jsxs)(t.Fragment,{children:["Sign up",(0,t.jsx)("span",{className:"qb-btn-loader ms-2"})]})})})}),(0,t.jsx)("div",{className:"col-12",children:(0,t.jsx)("p",{className:"qb-marseillenyc-tag mb-0 pt-3 text-center",children:"You'll hear from us now and then with Marseille updates, specials, and upcoming events. Opt out anytime."})})]})})})]})})}),(0,t.jsx)(r.Z,{isVisible:N,title:"Email Sign up",message:"Thanks for entering! We'll pick a winner at random and contact them by May 31st, 2025. Good luck!",btnText:"Close",showSecondaryBtn:!1,btnAction:S,handleBackdropClick:S})]})]})}},9655:function(e,a,n){"use strict";n.d(a,{kL:function(){return t},ZN:function(){return i},V$:function(){return l}}),n(7294);var t=()=>({apiGet:async function(e,a,n,t){let i=new Headers;return i.append("Content-Type","application/json"),a?i.append("X-Api-Token",a):n?i.append("token",n):t&&i.append("Authorization","Bearer ".concat(t)),await fetch(e,{method:"GET",headers:i}).then(e=>e.text()).then(e=>!!e&&JSON.parse(e)).catch(e=>e)},apiPost:async function(e,a,n,t,i){let l=new Headers;return l.append("Content-Type","application/json"),n?l.append("X-Api-Token",n):t?l.append("token",t):i&&l.append("Authorization","Bearer ".concat(i)),await fetch(e,{method:"POST",headers:l,body:a}).then(e=>e.text()).then(e=>!!e&&JSON.parse(e)).catch(e=>e)},apiPut:async function(e,a,n,t,i){let l=new Headers;return l.append("Content-Type","application/json"),n?l.append("X-Api-Token",n):t?l.append("token",t):i&&l.append("Authorization","Bearer ".concat(i)),await fetch(e,{method:"PUT",headers:l,body:a}).then(e=>e.text()).then(e=>!!e&&JSON.parse(e)).catch(e=>e)},apiDelete:async function(e,a,n,t,i){let l=new Headers;return l.append("Content-Type","application/json"),n?l.append("X-Api-Token",n):t?l.append("token",t):i&&l.append("Authorization","Bearer ".concat(i)),await fetch(e,{method:"DELETE",headers:l,body:a}).then(e=>e.text()).then(e=>!!e&&JSON.parse(e)).catch(e=>e)},fileUpload:async function(e,a,n,t,i){let l=new Headers;return n?l.append("X-Api-Token",n):t?l.append("token",t):i&&l.append("Authorization","Bearer ".concat(i)),await fetch(e,{method:"POST",headers:l,body:a}).then(e=>e.text()).then(e=>!!e&&JSON.parse(e)).catch(e=>e)}}),i=()=>{async function e(e){for(var a,n={},t=e.slice(e.indexOf("?")+1).split("&"),i=0;i<t.length;i++)n[(a=t[i].split("="))[0]]=a[1];return n}return{breakDownUrl:async function(a){let n,t=a.split("/"),i=[],l=t[2];if(t.length>3){let e;for(e=3;e<t.length;e++)if(e===t.length-1&&-1!=t[e].indexOf("?")){let a=t[e].split("?");i.push(a[0])}else i.push(t[e])}return -1!=a.indexOf("?")&&(n=await e(a)),{protocol:t[0],host:l,paths:i,queries:n}},getUrlQueries:e}},l=()=>({emailValidation:async function(e){return null!=e&&!!e.length&&e.length<=320&&/^\w+([\+\.-]?\w+)*@\w+([\.-]?\w{2,8})*(\.\w{2,8})+$/.test(e)},phoneValidation:async function(e,a,n){let t=/^\d{10}$/;return a&&n&&(t=new RegExp("^\\d{".concat(a,",").concat(n,"}$"))),!!e&&(null==e?void 0:e.length)<=50&&t.test(e)},passwordValidation:async function(e){return!!e&&!!e.length&&/^(?=.*\d)(?=.*[a-zA-Z])(?=.*[!@#\$%\^&\*]).{6,40}$/.test(e)},nameValidation:async function(e){return!!e&&(null==e?void 0:e.length)<=50&&/^(([a-zA-Z])+([ a-zA-Z]*)){2,50}$/.test(e)},hexColorCodeValidation:async function(e){return!!e&&/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(e)},upiValidation:async function(e){return!!e&&/^[\w.-]{2,256}@[\w.-]{2,64}$/.test(e)},gstValidation:async function(e){return!!e&&/^\d{2}[A-Z]{5}\d{4}[A-Z][1-9A-Z]{1,2}\w{1}$/.test(e)},returnErrorTexts:async function(e,a,n,t){let i="";switch(a){case"email":i=(null==e?void 0:e.length)&&(" "===e[(null==e?void 0:e.length)-1]||" "===e[0])?"Email should not begin or end with spaces.":e&&(null==e?void 0:e.length)>320?"Email should not be more than 320 characters":"Invalid email format. Please enter a valid email format";break;case"name":i=e&&(null==e?void 0:e.length)<2?"Name should be at least 2 characters":(null==e?void 0:e.length)&&" "===e[0]?"Name should not begin with a space.":e&&(null==e?void 0:e.length)>50?"Name should not be more than 50 characters":"Name contains invalid characters. Please enter a valid name";break;case"phone":i=(null==e?void 0:e.length)&&(" "===e[(null==e?void 0:e.length)-1]||" "===e[0])?"Phone number should not begin or end with spaces.":n&&e&&e.length<n?"Phone number should have at least ".concat(n," digits"):t&&e&&e.length>t?"Phone number should have at most ".concat(t," digits"):e&&10!=e.length?"Phone number should have exactly 10 digits":"Phone number should have only digits.";break;case"password":i=e&&(null==e?void 0:e.length)<6?"Password should be at least 6 characters":e&&(null==e?void 0:e.length)>40?"Password should not be more than 40 characters":"Password Insecure! Password should contain alphabets, numbers and special characters";break;case"hexcode":i="Please enter a valid hex color code.";break;case"upi":i="Please enter a valid UPI ID.";break;case"gst":i="Please enter a valid GST number.";break;case"generic":i="We’re currently experiencing technical difficulties. Please try again later."}return i}})}},function(e){e.O(0,[3582,9774,2888,179],function(){return e(e.s=8737)}),_N_E=e.O()}]);